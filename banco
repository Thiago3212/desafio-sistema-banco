menu = """

[1] Depositar
[2] Sacar
[3] Extrato
[4] Sair

 """
 
LIMITES_SAQUES = 3
saldo = 0
extrato = ""
limite = 500
saques = 0
valor = 0

while True:
    
     opcao = input(menu)
  
     if opcao == "1":
        valor = float(input("Insira um valor de depósito ")) 
        if valor > 0:
            saldo += valor
            extrato += f"Depósito: R$ {valor:.2f}\n"       
        else:
             print("Valor inválido")
    
     if opcao == "2":
         valor = float(input("Insira um valor de saque "))
         
         saldo_insuficiente = saldo < valor
         
         excesso_limite = valor > limite
         
         excesso_saques = saques >= LIMITES_SAQUES
         
         if saldo_insuficiente:
            print("Saldo insuficiente para saque")
         
         elif excesso_limite:
            print("Saque acima do limite permitido")
         
         elif excesso_saques:
            print("Excedeu o número de saques")
         
         elif valor >= 0:
            saldo -= valor
            extrato += f"Saque: R$ {valor:.2f}\n"
            saques += 1
         
         else:
            print("Operação inválida")
            
     if opcao == "3":
         print("-------EXTRATO--------")
         print("Não foram realizadas movimentações." if not extrato else extrato)
         print(f"\nSaldo: R$ {saldo:.2f}")
         print("----------------------")
         
     if opcao == "4":
         break
